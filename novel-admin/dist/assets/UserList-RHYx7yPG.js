import{u as h}from"./index-BCOtO_Mw.js";import{r as c,s as y,c as E,o as d,b as k,A as w,x,n as D,w as t,e as n,d as e,j as _,t as p,E as u}from"./index-CYHA9V5Y.js";const B={class:"user-list"},M={__name:"UserList",setup(C){const b=c(!1),i=c([]),r=async()=>{i.value=[]},m=async o=>{try{await h.setTrialSettings(o.id,{isTrialEnabled:o.isTrialEnabled===1?0:1}),u.success("操作成功"),r()}catch(l){u.error(l.message||"操作失败")}};return y(()=>{r()}),(o,l)=>{const s=n("el-table-column"),g=n("el-tag"),f=n("el-button"),T=n("el-table"),v=x("loading");return d(),E("div",B,[l[0]||(l[0]=k("h2",null,"小程序用户管理",-1)),w((d(),D(T,{data:i.value,style:{width:"100%"}},{default:t(()=>[e(s,{prop:"nickname",label:"昵称"}),e(s,{prop:"trialViewTime",label:"试看时间（秒）",width:"150"}),e(s,{prop:"isTrialEnabled",label:"试看权限",width:"120"},{default:t(({row:a})=>[e(g,{type:a.isTrialEnabled===1?"success":"danger"},{default:t(()=>[_(p(a.isTrialEnabled===1?"允许":"禁止"),1)]),_:2},1032,["type"])]),_:1}),e(s,{label:"操作",width:"200"},{default:t(({row:a})=>[e(f,{link:"",type:"primary",onClick:V=>m(a)},{default:t(()=>[_(p(a.isTrialEnabled===1?"禁止试看":"允许试看"),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[v,b.value]])])}}};export{M as default};
