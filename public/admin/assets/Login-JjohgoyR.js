import{_ as b,u as k,r as _,a as R,c as z,o as E,b as n,d as e,w as t,e as a,f as U,g as f,h as B,l as C,i as L,j as N,t as S,E as g}from"./index-CYHA9V5Y.js";import{a as q}from"./index-BCOtO_Mw.js";const F={class:"login-container"},I={class:"login-box"},K={class:"login-header"},T={__name:"Login",setup(j){const w=U(),d=k(),c=_(null),r=_(!1),s=R({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},p=async()=>{await c.value.validate(),r.value=!0;try{const l=await q.login(s);d.setToken(l.data.token),d.setUserInfo(l.data),g.success("登录成功"),w.push("/")}catch(l){g.error(l.message||"登录失败")}finally{r.value=!1}};return(l,o)=>{const y=a("Reading"),h=a("el-icon"),m=a("el-input"),i=a("el-form-item"),x=a("el-button"),V=a("el-form");return E(),z("div",F,[n("div",I,[n("div",K,[e(h,{size:48,style:{color:"#409EFF"}},{default:t(()=>[e(y)]),_:1}),o[2]||(o[2]=n("h2",null,"小说阅读平台",-1)),o[3]||(o[3]=n("p",{class:"subtitle"},"管理后台",-1))]),e(V,{model:s,rules:v,ref_key:"formRef",ref:c,"label-width":"0"},{default:t(()=>[e(i,{prop:"username"},{default:t(()=>[e(m,{modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=u=>s.username=u),placeholder:"请输入用户名",size:"large","prefix-icon":f(B)},null,8,["modelValue","prefix-icon"])]),_:1}),e(i,{prop:"password"},{default:t(()=>[e(m,{modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=u=>s.password=u),type:"password",placeholder:"请输入密码",onKeyup:L(p,["enter"]),size:"large","prefix-icon":f(C),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(i,null,{default:t(()=>[e(x,{type:"primary",onClick:p,loading:r.value,style:{width:"100%"},size:"large"},{default:t(()=>[N(S(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},M=b(T,[["__scopeId","data-v-6c9f435e"]]);export{M as default};
