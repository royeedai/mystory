import{_ as T,u as j,k as r,m as q,n as _,o as c,w as o,e as t,f as z,d as e,b as a,p as x,j as i,t as k,g as P,q as G}from"./index-CYHA9V5Y.js";const H={class:"logo"},J={class:"header-left"},K={class:"header-right"},O={class:"user-info"},Q={__name:"Layout",setup(W){const m=q(),h=z(),d=j(),y=r(()=>m.path),p=r(()=>{var s;return((s=d.userInfo)==null?void 0:s.role)==="ADMIN"}),D=r(()=>({"/dashboard":"仪表盘","/novel":"小说管理","/audit":"审核管理","/user":"用户管理"})[m.path]||"首页"),C=async s=>{s==="logout"&&(await G.confirm("确定要退出登录吗？","提示",{type:"warning"}),d.logout(),h.push("/login"))};return(s,n)=>{const f=t("Reading"),l=t("el-icon"),B=t("DataBoard"),u=t("el-menu-item"),M=t("DocumentChecked"),w=t("User"),N=t("el-menu"),A=t("el-aside"),v=t("el-breadcrumb-item"),F=t("el-breadcrumb"),I=t("ArrowDown"),R=t("el-dropdown-item"),V=t("el-dropdown-menu"),E=t("el-dropdown"),S=t("el-header"),U=t("router-view"),L=t("el-main"),b=t("el-container");return c(),_(b,null,{default:o(()=>[e(A,{width:"220px",class:"sidebar"},{default:o(()=>[a("div",H,[e(l,{size:24,style:{color:"#409EFF"}},{default:o(()=>[e(f)]),_:1}),n[0]||(n[0]=a("span",{class:"logo-text"},"小说管理",-1))]),e(N,{"default-active":y.value,router:"","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF","collapse-transition":!1},{default:o(()=>[e(u,{index:"/dashboard"},{default:o(()=>[e(l,null,{default:o(()=>[e(B)]),_:1}),n[1]||(n[1]=a("span",null,"仪表盘",-1))]),_:1}),e(u,{index:"/novel"},{default:o(()=>[e(l,null,{default:o(()=>[e(f)]),_:1}),n[2]||(n[2]=a("span",null,"小说管理",-1))]),_:1}),p.value?(c(),_(u,{key:0,index:"/audit"},{default:o(()=>[e(l,null,{default:o(()=>[e(M)]),_:1}),n[3]||(n[3]=a("span",null,"审核管理",-1))]),_:1})):x("",!0),p.value?(c(),_(u,{key:1,index:"/user"},{default:o(()=>[e(l,null,{default:o(()=>[e(w)]),_:1}),n[4]||(n[4]=a("span",null,"用户管理",-1))]),_:1})):x("",!0)]),_:1},8,["default-active"])]),_:1}),e(b,null,{default:o(()=>[e(S,{class:"header"},{default:o(()=>[a("div",J,[e(F,{separator:"/"},{default:o(()=>[e(v,{to:{path:"/"}},{default:o(()=>[...n[5]||(n[5]=[i("首页",-1)])]),_:1}),e(v,null,{default:o(()=>[i(k(D.value),1)]),_:1})]),_:1})]),a("div",K,[e(E,{onCommand:C},{dropdown:o(()=>[e(V,null,{default:o(()=>[e(R,{command:"logout"},{default:o(()=>[...n[6]||(n[6]=[i("退出登录",-1)])]),_:1})]),_:1})]),default:o(()=>{var g;return[a("span",O,[e(l,null,{default:o(()=>[e(w)]),_:1}),a("span",null,k(((g=P(d).userInfo)==null?void 0:g.nickname)||"用户"),1),e(l,null,{default:o(()=>[e(I)]),_:1})])]}),_:1})])]),_:1}),e(L,{class:"main-content"},{default:o(()=>[e(U)]),_:1})]),_:1})]),_:1})}}},Y=T(Q,[["__scopeId","data-v-bdf5a6e2"]]);export{Y as default};
